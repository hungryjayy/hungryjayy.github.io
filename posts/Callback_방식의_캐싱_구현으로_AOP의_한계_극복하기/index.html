<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Callback 방식의 캐싱 구현으로 AOP의 한계 극복하기" /><meta name="author" content="hungryjayy" /><meta property="og:locale" content="en" /><meta name="description" content="A minimal, portfolio, sidebar, bootstrap Jekyll theme with responsive web design and focuses on text presentation." /><meta property="og:description" content="A minimal, portfolio, sidebar, bootstrap Jekyll theme with responsive web design and focuses on text presentation." /><link rel="canonical" href="https://hungryjayy.github.io/posts/Callback_%EB%B0%A9%EC%8B%9D%EC%9D%98_%EC%BA%90%EC%8B%B1_%EA%B5%AC%ED%98%84%EC%9C%BC%EB%A1%9C_AOP%EC%9D%98_%ED%95%9C%EA%B3%84_%EA%B7%B9%EB%B3%B5%ED%95%98%EA%B8%B0/" /><meta property="og:url" content="https://hungryjayy.github.io/posts/Callback_%EB%B0%A9%EC%8B%9D%EC%9D%98_%EC%BA%90%EC%8B%B1_%EA%B5%AC%ED%98%84%EC%9C%BC%EB%A1%9C_AOP%EC%9D%98_%ED%95%9C%EA%B3%84_%EA%B7%B9%EB%B3%B5%ED%95%98%EA%B8%B0/" /><meta property="og:site_name" content="hungryjayy" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2025-10-10T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Callback 방식의 캐싱 구현으로 AOP의 한계 극복하기" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"hungryjayy"},"dateModified":"2025-10-24T19:15:42+09:00","datePublished":"2025-10-10T00:00:00+09:00","description":"A minimal, portfolio, sidebar, bootstrap Jekyll theme with responsive web design and focuses on text presentation.","headline":"Callback 방식의 캐싱 구현으로 AOP의 한계 극복하기","mainEntityOfPage":{"@type":"WebPage","@id":"https://hungryjayy.github.io/posts/Callback_%EB%B0%A9%EC%8B%9D%EC%9D%98_%EC%BA%90%EC%8B%B1_%EA%B5%AC%ED%98%84%EC%9C%BC%EB%A1%9C_AOP%EC%9D%98_%ED%95%9C%EA%B3%84_%EA%B7%B9%EB%B3%B5%ED%95%98%EA%B8%B0/"},"url":"https://hungryjayy.github.io/posts/Callback_%EB%B0%A9%EC%8B%9D%EC%9D%98_%EC%BA%90%EC%8B%B1_%EA%B5%AC%ED%98%84%EC%9C%BC%EB%A1%9C_AOP%EC%9D%98_%ED%95%9C%EA%B3%84_%EA%B7%B9%EB%B3%B5%ED%95%98%EA%B8%B0/"}</script><title>Callback 방식의 캐싱 구현으로 AOP의 한계 극복하기 | hungryjayy</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="hungryjayy"><meta name="application-name" content="hungryjayy"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/Profile/profile.jpeg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">hungryjayy</a></div><div class="site-subtitle font-italic">배우고 경험하는 것을 기록합니다.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/hungryjayy" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://instagram.com/loganprshut" aria-label="instagram" target="_blank" rel="noopener"> <i class="fab fa-instagram"></i> </a> <a href="https://www.linkedin.com/in/joowon-son-557206226/" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['juwon9331','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div style="text-align: center;"> <a href="https://hits.seeyoufarm.com"> <img alt="alt" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fhungryjayy.github.io&count_bg=%23121312&title_bg=%23000000&icon=&icon_color=%23ACACAC&title=hits&edge_flat=false"/> </a></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Callback 방식의 캐싱 구현으로 AOP의 한계 극복하기</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Callback 방식의 캐싱 구현으로 AOP의 한계 극복하기</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/hungryjayy">hungryjayy</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" date="2025-10-10 00:00:00 +0900" data-toggle="tooltip" data-placement="bottom" title="Fri, Oct 10, 2025, 12:00 AM +0900" >Oct 10</em> </span> <span> Updated <em class="timeago" date="2025-10-24 19:15:42 +0900 " data-toggle="tooltip" data-placement="bottom" title="Fri, Oct 24, 2025, 7:15 PM +0900" >Oct 24</em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1353 words"> <em>7 min</em> read</span></div></div></div><div class="post-content"><dl><dt><br /><dd><p>Spring의 <code class="language-plaintext highlighter-rouge">@Cacheable</code> 어노테이션은 편리하지만, <strong>같은 클래스 내부에서 메서드를 호출할 때 AOP가 동작하지 않는다는 한계</strong>가 있다. 이를 해결하기 위해 <strong>callback 방식의 고차함수</strong>를 활용한 캐싱 로직을 구현했다. 이 방식은 AOP의 한계를 극복하면서도 캐싱 로직을 재사용 가능하게 만들어준다.</p></dl><p><br /></p><h2 id="cacheable의-한계">@Cacheable의 한계 <a href="#cacheable의-한계" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li>Spring의 <code class="language-plaintext highlighter-rouge">@Cacheable</code>은 AOP 기반으로 동작한다.<li>AOP는 <strong>프록시 패턴</strong>을 통해 동작하기 때문에, <strong>같은 클래스 내부에서 메서드를 호출할 때는 프록시를 거치지 않아</strong> 캐싱이 동작하지 않는다.<ul><li>e.g.) Service 클래스 내부에서 <code class="language-plaintext highlighter-rouge">this.getCachedData()</code>를 호출하면 <code class="language-plaintext highlighter-rouge">@Cacheable</code>이 적용되지 않음</ul></ul><p><br /></p><h3 id="문제-상황">문제 상황 <a href="#문제-상황" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span data-label-text="Kotlin"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="nd">@Service</span>
<span class="kd">class</span> <span class="nc">UserService</span> <span class="p">{</span>
    <span class="nd">@Cacheable</span><span class="p">(</span><span class="s">"users"</span><span class="p">)</span>
    <span class="k">fun</span> <span class="nf">getUserById</span><span class="p">(</span><span class="n">id</span><span class="p">:</span> <span class="nc">Long</span><span class="p">):</span> <span class="nc">User</span> <span class="p">{</span>
        <span class="c1">// DB 조회</span>
    <span class="p">}</span>

    <span class="k">fun</span> <span class="nf">processUser</span><span class="p">(</span><span class="n">id</span><span class="p">:</span> <span class="nc">Long</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// 같은 클래스에서 호출 - 캐싱이 동작하지 않음!</span>
        <span class="kd">val</span> <span class="py">user</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="nf">getUserById</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p><br /></p><h2 id="callback-방식의-캐싱-구현">Callback 방식의 캐싱 구현 <a href="#callback-방식의-캐싱-구현" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>: <strong>고차함수를 callback으로 전달</strong>받아, 캐시 미스 시에만 해당 로직을 실행하는 방식으로 구현한다.</p><p><br /></p><h3 id="1-cachedao-인터페이스-설계">1. CacheDao 인터페이스 설계 <a href="#1-cachedao-인터페이스-설계" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span data-label-text="Kotlin"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="kd">interface</span> <span class="nc">CacheDao</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="p">&lt;</span><span class="nc">T</span><span class="p">&gt;</span> <span class="nf">cache</span><span class="p">(</span>
        <span class="n">key</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span>
        <span class="n">ttl</span><span class="p">:</span> <span class="nc">Duration</span><span class="p">?,</span>
        <span class="n">typeRef</span><span class="p">:</span> <span class="nc">TypeReference</span><span class="p">&lt;</span><span class="nc">T</span><span class="p">&gt;,</span>
        <span class="n">callBack</span><span class="p">:</span> <span class="p">()</span> <span class="p">-&gt;</span> <span class="nc">T</span><span class="p">?,</span>
    <span class="p">):</span> <span class="nc">T</span><span class="p">?</span>

    <span class="k">fun</span> <span class="p">&lt;</span><span class="nc">K</span><span class="p">,</span> <span class="nc">V</span><span class="p">&gt;</span> <span class="nf">cacheBulk</span><span class="p">(</span>
        <span class="n">keys</span><span class="p">:</span> <span class="nc">List</span><span class="p">&lt;</span><span class="nc">K</span><span class="p">&gt;,</span>
        <span class="n">keyMapper</span><span class="p">:</span> <span class="p">(</span><span class="nc">K</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="nc">String</span><span class="p">,</span>
        <span class="n">ttl</span><span class="p">:</span> <span class="nc">Duration</span><span class="p">?,</span>
        <span class="n">typeRef</span><span class="p">:</span> <span class="nc">TypeReference</span><span class="p">&lt;</span><span class="nc">V</span><span class="p">&gt;,</span>
        <span class="n">callBack</span><span class="p">:</span> <span class="p">(</span><span class="nc">List</span><span class="p">&lt;</span><span class="nc">K</span><span class="p">&gt;)</span> <span class="p">-&gt;</span> <span class="nc">Map</span><span class="p">&lt;</span><span class="nc">K</span><span class="p">,</span> <span class="nc">V</span><span class="p">&gt;,</span>
    <span class="p">):</span> <span class="nc">Map</span><span class="p">&lt;</span><span class="nc">K</span><span class="p">,</span> <span class="nc">V</span><span class="p">&gt;</span>
<span class="p">}</span>
</pre></table></code></div></div><ul><li><strong>cache()</strong>: 단일 키에 대한 캐싱<li><strong>cacheBulk()</strong>: 여러 키에 대한 벌크 캐싱<li><strong>callBack</strong>: 캐시 미스 시 실행될 로직을 고차함수로 전달받음</ul><p><br /></p><h3 id="2-구현부---cache-메서드">2. 구현부 - cache() 메서드 <a href="#2-구현부---cache-메서드" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span data-label-text="Kotlin"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre><td class="rouge-code"><pre><span class="k">override</span> <span class="k">fun</span> <span class="p">&lt;</span><span class="nc">T</span><span class="p">&gt;</span> <span class="nf">cache</span><span class="p">(</span>
    <span class="n">key</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span>
    <span class="n">ttl</span><span class="p">:</span> <span class="nc">Duration</span><span class="p">?,</span>
    <span class="n">typeRef</span><span class="p">:</span> <span class="nc">TypeReference</span><span class="p">&lt;</span><span class="nc">T</span><span class="p">&gt;,</span>
    <span class="n">callBack</span><span class="p">:</span> <span class="p">()</span> <span class="p">-&gt;</span> <span class="nc">T</span><span class="p">?,</span>
<span class="p">):</span> <span class="nc">T</span><span class="p">?</span> <span class="p">{</span>
    <span class="c1">// 1. 캐시 조회</span>
    <span class="n">redisTemplate</span><span class="p">.</span><span class="nf">opsForValue</span><span class="p">().</span><span class="k">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="o">?.</span><span class="nf">let</span> <span class="p">{</span> <span class="n">raw</span> <span class="p">-&gt;</span>
        <span class="k">return</span> <span class="nf">convertToValue</span><span class="p">(</span><span class="n">raw</span><span class="p">,</span> <span class="n">typeRef</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="c1">// 2. 캐시 미스 - callback 실행</span>
    <span class="kd">val</span> <span class="py">computed</span> <span class="p">=</span> <span class="n">callBack</span><span class="p">.</span><span class="nf">invoke</span><span class="p">()</span>

    <span class="c1">// 3. 결과를 캐시에 저장</span>
    <span class="n">computed</span><span class="o">?.</span><span class="nf">let</span> <span class="p">{</span>
        <span class="kd">val</span> <span class="py">json</span> <span class="p">=</span> <span class="n">objectMapper</span><span class="p">.</span><span class="nf">writeValueAsString</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">ttl</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">redisTemplate</span><span class="p">.</span><span class="nf">opsForValue</span><span class="p">().</span><span class="k">set</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">json</span><span class="p">,</span> <span class="n">ttl</span><span class="p">)</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">redisTemplate</span><span class="p">.</span><span class="nf">opsForValue</span><span class="p">().</span><span class="k">set</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">json</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">computed</span>
<span class="p">}</span>
</pre></table></code></div></div><p><br /></p><h3 id="3-구현부---cachebulk-메서드">3. 구현부 - cacheBulk() 메서드 <a href="#3-구현부---cachebulk-메서드" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span data-label-text="Kotlin"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
</pre><td class="rouge-code"><pre><span class="k">override</span> <span class="k">fun</span> <span class="p">&lt;</span><span class="nc">K</span><span class="p">,</span> <span class="nc">V</span><span class="p">&gt;</span> <span class="nf">cacheBulk</span><span class="p">(</span>
    <span class="n">keys</span><span class="p">:</span> <span class="nc">List</span><span class="p">&lt;</span><span class="nc">K</span><span class="p">&gt;,</span>
    <span class="n">keyMapper</span><span class="p">:</span> <span class="p">(</span><span class="nc">K</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="nc">String</span><span class="p">,</span>
    <span class="n">ttl</span><span class="p">:</span> <span class="nc">Duration</span><span class="p">?,</span>
    <span class="n">typeRef</span><span class="p">:</span> <span class="nc">TypeReference</span><span class="p">&lt;</span><span class="nc">V</span><span class="p">&gt;,</span>
    <span class="n">callBack</span><span class="p">:</span> <span class="p">(</span><span class="nc">List</span><span class="p">&lt;</span><span class="nc">K</span><span class="p">&gt;)</span> <span class="p">-&gt;</span> <span class="nc">Map</span><span class="p">&lt;</span><span class="nc">K</span><span class="p">,</span> <span class="nc">V</span><span class="p">&gt;,</span>
<span class="p">):</span> <span class="nc">Map</span><span class="p">&lt;</span><span class="nc">K</span><span class="p">,</span> <span class="nc">V</span><span class="p">&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">keys</span><span class="p">.</span><span class="nf">isEmpty</span><span class="p">())</span> <span class="k">return</span> <span class="nf">emptyMap</span><span class="p">()</span>

    <span class="kd">val</span> <span class="py">keyToRedisKey</span><span class="p">:</span> <span class="nc">Map</span><span class="p">&lt;</span><span class="nc">K</span><span class="p">,</span> <span class="nc">String</span><span class="p">&gt;</span> <span class="p">=</span> <span class="n">keys</span><span class="p">.</span><span class="nf">associateWith</span><span class="p">(</span><span class="n">keyMapper</span><span class="p">)</span>
    <span class="kd">val</span> <span class="py">redisKeys</span><span class="p">:</span> <span class="nc">List</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">&gt;</span> <span class="p">=</span> <span class="n">keyToRedisKey</span><span class="p">.</span><span class="n">values</span><span class="p">.</span><span class="nf">toList</span><span class="p">()</span>

    <span class="c1">// 1. 캐시에서 일괄 조회</span>
    <span class="kd">val</span> <span class="py">redisRawValues</span><span class="p">:</span> <span class="nc">List</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">?&gt;</span> <span class="p">=</span>
        <span class="n">redisTemplate</span><span class="p">.</span><span class="nf">opsForValue</span><span class="p">().</span><span class="nf">multiGet</span><span class="p">(</span><span class="n">redisKeys</span><span class="p">)</span> <span class="o">?:</span> <span class="nf">emptyList</span><span class="p">()</span>

    <span class="c1">// 2. 캐시 히트된 데이터 처리</span>
    <span class="kd">val</span> <span class="py">redisHitMap</span><span class="p">:</span> <span class="nc">Map</span><span class="p">&lt;</span><span class="nc">K</span><span class="p">,</span> <span class="nc">V</span><span class="p">&gt;</span> <span class="p">=</span> <span class="n">keyToRedisKey</span><span class="p">.</span><span class="n">keys</span>
        <span class="p">.</span><span class="nf">zip</span><span class="p">(</span><span class="n">redisRawValues</span><span class="p">)</span>
        <span class="p">.</span><span class="nf">filter</span> <span class="p">{</span> <span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="n">rawValue</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="n">rawValue</span> <span class="p">!=</span> <span class="k">null</span> <span class="p">}</span>
        <span class="p">.</span><span class="nf">associate</span> <span class="p">{</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">rawValue</span><span class="p">)</span> <span class="p">-&gt;</span>
            <span class="n">key</span> <span class="n">to</span> <span class="n">objectMapper</span><span class="p">.</span><span class="nf">readValue</span><span class="p">(</span><span class="n">rawValue</span><span class="o">!!</span><span class="p">,</span> <span class="n">typeRef</span><span class="p">)</span>
        <span class="p">}</span>

    <span class="c1">// 3. 캐시 미스된 키만 추출</span>
    <span class="kd">val</span> <span class="py">missedKeys</span><span class="p">:</span> <span class="nc">List</span><span class="p">&lt;</span><span class="nc">K</span><span class="p">&gt;</span> <span class="p">=</span> <span class="n">keys</span><span class="p">.</span><span class="nf">filterNot</span> <span class="p">{</span> <span class="n">redisHitMap</span><span class="p">.</span><span class="nf">containsKey</span><span class="p">(</span><span class="n">it</span><span class="p">)</span> <span class="p">}</span>

    <span class="c1">// 모두 캐시 히트</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">missedKeys</span><span class="p">.</span><span class="nf">isEmpty</span><span class="p">())</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">redisHitMap</span>
    <span class="p">}</span>

    <span class="c1">// 4. 캐시 미스 - callback 실행 (미스된 키만 전달)</span>
    <span class="kd">val</span> <span class="py">callBackResults</span><span class="p">:</span> <span class="nc">Map</span><span class="p">&lt;</span><span class="nc">K</span><span class="p">,</span> <span class="nc">V</span><span class="p">&gt;</span> <span class="p">=</span> <span class="nf">callBack</span><span class="p">(</span><span class="n">missedKeys</span><span class="p">)</span>

    <span class="c1">// 5. 결과를 캐시에 일괄 저장</span>
    <span class="kd">val</span> <span class="py">redisKeyValueMap</span><span class="p">:</span> <span class="nc">Map</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">,</span> <span class="nc">String</span><span class="p">&gt;</span> <span class="p">=</span> <span class="n">callBackResults</span>
        <span class="p">.</span><span class="nf">mapNotNull</span> <span class="p">{</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="p">-&gt;</span>
            <span class="kd">val</span> <span class="py">redisKey</span> <span class="p">=</span> <span class="n">keyToRedisKey</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">?:</span> <span class="k">return</span><span class="nd">@mapNotNull</span> <span class="k">null</span>
            <span class="kd">val</span> <span class="py">jsonValue</span> <span class="p">=</span> <span class="n">objectMapper</span><span class="p">.</span><span class="nf">writeValueAsString</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="n">redisKey</span> <span class="n">to</span> <span class="n">jsonValue</span>
        <span class="p">}.</span><span class="nf">toMap</span><span class="p">()</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">ttl</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">redisTemplate</span><span class="p">.</span><span class="nf">opsForValue</span><span class="p">().</span><span class="nf">multiSet</span><span class="p">(</span><span class="n">redisKeyValueMap</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">redisKeyValueMap</span><span class="p">.</span><span class="nf">forEach</span> <span class="p">{</span> <span class="p">(</span><span class="n">redisKey</span><span class="p">,</span> <span class="n">jsonValue</span><span class="p">)</span> <span class="p">-&gt;</span>
            <span class="n">redisTemplate</span><span class="p">.</span><span class="nf">opsForValue</span><span class="p">().</span><span class="k">set</span><span class="p">(</span><span class="n">redisKey</span><span class="p">,</span> <span class="n">jsonValue</span><span class="p">,</span> <span class="n">ttl</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">redisHitMap</span> <span class="p">+</span> <span class="n">callBackResults</span>
<span class="p">}</span>
</pre></table></code></div></div><p><br /></p><h2 id="사용-예시">사용 예시 <a href="#사용-예시" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="단일-캐싱">단일 캐싱 <a href="#단일-캐싱" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span data-label-text="Kotlin"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="nd">@Service</span>
<span class="kd">class</span> <span class="nc">ProductService</span><span class="p">(</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">cacheDao</span><span class="p">:</span> <span class="nc">CacheDao</span><span class="p">,</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">productRepository</span><span class="p">:</span> <span class="nc">ProductRepository</span><span class="p">,</span>
<span class="p">)</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">getProduct</span><span class="p">(</span><span class="n">productId</span><span class="p">:</span> <span class="nc">Long</span><span class="p">):</span> <span class="nc">Product</span><span class="p">?</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">cacheDao</span><span class="p">.</span><span class="nf">cache</span><span class="p">(</span>
            <span class="n">key</span> <span class="p">=</span> <span class="s">"product:$productId"</span><span class="p">,</span>
            <span class="n">ttl</span> <span class="p">=</span> <span class="nc">Duration</span><span class="p">.</span><span class="nf">ofMinutes</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
            <span class="n">typeRef</span> <span class="p">=</span> <span class="kd">object</span> <span class="err">: </span><span class="nc">TypeReference</span><span class="p">&lt;</span><span class="nc">Product</span><span class="p">&gt;()</span> <span class="p">{},</span>
        <span class="p">)</span> <span class="p">{</span>
            <span class="c1">// 캐시 미스 시 실행될 로직 (DB 조회)</span>
            <span class="n">productRepository</span><span class="p">.</span><span class="nf">findById</span><span class="p">(</span><span class="n">productId</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p><br /></p><h3 id="벌크-캐싱">벌크 캐싱 <a href="#벌크-캐싱" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span data-label-text="Kotlin"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="nd">@Service</span>
<span class="kd">class</span> <span class="nc">ProductService</span><span class="p">(</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">cacheDao</span><span class="p">:</span> <span class="nc">CacheDao</span><span class="p">,</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">productRepository</span><span class="p">:</span> <span class="nc">ProductRepository</span><span class="p">,</span>
<span class="p">)</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">getProducts</span><span class="p">(</span><span class="n">productIds</span><span class="p">:</span> <span class="nc">List</span><span class="p">&lt;</span><span class="nc">Long</span><span class="p">&gt;):</span> <span class="nc">Map</span><span class="p">&lt;</span><span class="nc">Long</span><span class="p">,</span> <span class="nc">Product</span><span class="p">&gt;</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">cacheDao</span><span class="p">.</span><span class="nf">cacheBulk</span><span class="p">(</span>
            <span class="n">keys</span> <span class="p">=</span> <span class="n">productIds</span><span class="p">,</span>
            <span class="n">keyMapper</span> <span class="p">=</span> <span class="p">{</span> <span class="n">id</span> <span class="p">-&gt;</span> <span class="s">"product:$id"</span> <span class="p">},</span>
            <span class="n">ttl</span> <span class="p">=</span> <span class="nc">Duration</span><span class="p">.</span><span class="nf">ofMinutes</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span>
            <span class="n">typeRef</span> <span class="p">=</span> <span class="kd">object</span> <span class="err">: </span><span class="nc">TypeReference</span><span class="p">&lt;</span><span class="nc">Product</span><span class="p">&gt;()</span> <span class="p">{},</span>
        <span class="p">)</span> <span class="p">{</span> <span class="n">missedIds</span> <span class="p">-&gt;</span>
            <span class="c1">// 캐시 미스된 ID들만 DB 조회</span>
            <span class="n">productRepository</span><span class="p">.</span><span class="nf">findAllByIdIn</span><span class="p">(</span><span class="n">missedIds</span><span class="p">)</span>
                <span class="p">.</span><span class="nf">associateBy</span> <span class="p">{</span> <span class="n">it</span><span class="p">.</span><span class="n">id</span> <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p><br /></p><h2 id="장점">장점 <a href="#장점" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="1-aop-한계-극복">1. AOP 한계 극복 <a href="#1-aop-한계-극복" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>같은 클래스 내부에서 호출해도 캐싱이 정상 동작한다.<li>프록시를 거치지 않아도 되므로, 어디서든 사용 가능하다.</ul><p><br /></p><h3 id="2-성능-최적화">2. 성능 최적화 <a href="#2-성능-최적화" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><strong>cacheBulk()</strong>: 캐시 미스된 키만 callback으로 전달하여, <strong>불필요한 DB 조회를 방지</strong>한다.<ul><li>e.g.) 100개 중 20개만 캐시 미스 → callback은 20개에 대해서만 실행</ul><li>Redis의 <code class="language-plaintext highlighter-rouge">multiGet</code>, <code class="language-plaintext highlighter-rouge">multiSet</code>을 활용해 <strong>네트워크 왕복 횟수를 최소화</strong>한다.</ul><p><br /></p><h3 id="3-유연성">3. 유연성 <a href="#3-유연성" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>callback을 통해 캐시 미스 시 실행할 로직을 자유롭게 정의할 수 있다.<li>DB 조회뿐만 아니라, 외부 API 호출, 복잡한 계산 등 다양한 로직에 적용 가능하다.</ul><p><br /></p><h3 id="4-재사용성">4. 재사용성 <a href="#4-재사용성" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>캐싱 로직이 <code class="language-plaintext highlighter-rouge">CacheDao</code>에 집중되어 있어, <strong>중복 코드를 제거</strong>할 수 있다.<li>캐시 정책 변경 시 한 곳만 수정하면 된다.</ul><p><br /></p><h2 id="결론">결론 <a href="#결론" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>: Callback 방식의 캐싱 구현은 <strong>AOP의 한계를 극복하면서도 재사용 가능한 캐싱 로직</strong>을 제공한다. 특히 벌크 캐싱에서는 캐시 미스된 키만 선별적으로 처리함으로써 성능을 크게 향상시킬 수 있다. 고차함수를 활용한 이러한 패턴은 Spring의 선언적 캐싱이 적합하지 않은 상황에서 강력한 대안이 될 수 있다.</p><p><br /><br /></p><h4 id="reference">Reference) <a href="#reference" class="anchor"><i class="fas fa-hashtag"></i></a></h4></h4><p>https://docs.spring.io/spring-framework/reference/integration/cache.html</p><p>https://docs.spring.io/spring-data/redis/docs/current/reference/html/</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/study/'>Study</a>, <a href='/categories/spring-boot/'>Spring boot</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/spring/" class="post-tag no-text-decoration" >spring</a> <a href="/tags/spring-boot/" class="post-tag no-text-decoration" >spring boot</a> <a href="/tags/%EC%8A%A4%ED%94%84%EB%A7%81/" class="post-tag no-text-decoration" >스프링</a> <a href="/tags/%EC%8A%A4%ED%94%84%EB%A7%81%EB%B6%80%ED%8A%B8/" class="post-tag no-text-decoration" >스프링부트</a> <a href="/tags/redis/" class="post-tag no-text-decoration" >redis</a> <a href="/tags/%EB%A0%88%EB%94%94%EC%8A%A4/" class="post-tag no-text-decoration" >레디스</a> <a href="/tags/cache/" class="post-tag no-text-decoration" >cache</a> <a href="/tags/%EC%BA%90%EC%8B%9C/" class="post-tag no-text-decoration" >캐시</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Callback 방식의 캐싱 구현으로 AOP의 한계 극복하기 - hungryjayy&url=https://hungryjayy.github.io/posts/Callback_%EB%B0%A9%EC%8B%9D%EC%9D%98_%EC%BA%90%EC%8B%B1_%EA%B5%AC%ED%98%84%EC%9C%BC%EB%A1%9C_AOP%EC%9D%98_%ED%95%9C%EA%B3%84_%EA%B7%B9%EB%B3%B5%ED%95%98%EA%B8%B0/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Callback 방식의 캐싱 구현으로 AOP의 한계 극복하기 - hungryjayy&u=https://hungryjayy.github.io/posts/Callback_%EB%B0%A9%EC%8B%9D%EC%9D%98_%EC%BA%90%EC%8B%B1_%EA%B5%AC%ED%98%84%EC%9C%BC%EB%A1%9C_AOP%EC%9D%98_%ED%95%9C%EA%B3%84_%EA%B7%B9%EB%B3%B5%ED%95%98%EA%B8%B0/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Callback 방식의 캐싱 구현으로 AOP의 한계 극복하기 - hungryjayy&url=https://hungryjayy.github.io/posts/Callback_%EB%B0%A9%EC%8B%9D%EC%9D%98_%EC%BA%90%EC%8B%B1_%EA%B5%AC%ED%98%84%EC%9C%BC%EB%A1%9C_AOP%EC%9D%98_%ED%95%9C%EA%B3%84_%EA%B7%B9%EB%B3%B5%ED%95%98%EA%B8%B0/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div><script src="https://utteranc.es/client.js" repo="hungryjayy/hungryjayy.github.io" issue-term="pathname" theme="icy-dark" crossorigin="anonymous" async> </script></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Callback_%EB%B0%A9%EC%8B%9D%EC%9D%98_%EC%BA%90%EC%8B%B1_%EA%B5%AC%ED%98%84%EC%9C%BC%EB%A1%9C_AOP%EC%9D%98_%ED%95%9C%EA%B3%84_%EA%B7%B9%EB%B3%B5%ED%95%98%EA%B8%B0/">Callback 방식의 캐싱 구현으로 AOP의 한계 극복하기</a><li><a href="/posts/Redis_cluster_%ED%95%B4%EC%8B%9C%ED%83%9C%EA%B7%B8/">Redis cluster 해시태그</a><li><a href="/posts/%EC%8B%9C%EC%9E%91%ED%95%98%EC%84%B8%EC%9A%94_%EB%8F%84%EC%BB%A4_%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4_4%EC%9E%A5_%EB%8F%84%EC%BB%A4_%EC%BB%B4%ED%8F%AC%EC%A6%88/">시작하세요! 도커 / 쿠버네티스 4장 도커 컴포즈</a><li><a href="/posts/%EC%8B%9C%EC%9E%91%ED%95%98%EC%84%B8%EC%9A%94_%EB%8F%84%EC%BB%A4_%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4_6%EC%9E%A5_%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4_%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0/">시작하세요! 도커 / 쿠버네티스 6장 쿠버네티스 시작하기</a><li><a href="/posts/Container_locale_%EC%84%A4%EC%A0%95(%ED%95%9C%EA%B8%80%EA%B9%A8%EC%A7%90)/">Container 인스턴스 Locale 설정</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/develop/">develop</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/js/">js</a> <a class="post-tag" href="/tags/network/">network</a> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/spring-boot/">spring boot</a> <a class="post-tag" href="/tags/%EB%A6%AC%EB%88%85%EC%8A%A4/">리눅스</a> <a class="post-tag" href="/tags/node-js/">node.js</a> <a class="post-tag" href="/tags/spring/">spring</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/MVC_Webflux/"><div class="card-body"> <em class="timeago small" date="2021-11-13 00:00:00 +0900" >Nov 13, 2021</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Spring MVC vs Webflux</h3><div class="text-muted small"><p> Spring MVC 동기식 처리방식. 멀티 스레드 환경 Spring boot에서의 일반적인 모습 기본적으로 client로 부터 요청이 들어오면 queue를 통한다.(WAS의 대기열?) Thread pool이 수용할 만큼만 처리하고 나머지는 queue에서 대기한다. Resource를 줄이기 위해 Thread는 성능에 맞게 최대치를...</p></div></div></a></div><div class="card"> <a href="/posts/%EC%8A%A4%ED%94%84%EB%A7%81%EC%9D%B8%EC%95%A1%EC%85%98_1%EC%9E%A5_1_%EC%8A%A4%ED%94%84%EB%A7%81%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0/"><div class="card-body"> <em class="timeago small" date="2021-12-06 00:00:00 +0900" >Dec 6, 2021</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>스프링 인 액션 - 1. 스프링 기초 - 1. 스프링 시작하기</h3><div class="text-muted small"><p> : 애플리케이션의 모든 기반을 자동으로 구성해주고, 이 것을 통해 개발자는 애플리케이션의 비즈니스 로직에만 집중할 수 있다. 용어 컨테이너 (스프링 애플리케이션 컨텍스트) : 빈 객체를 관리한다. 빈 생성, 관리를 하고, 필요한 곳에 (생성자와 같은 방법을 통해) 주입(연결)시켜준다. 컴포넌트: 빈 객체. 다른 애플리케이션 구성요소와 ...</p></div></div></a></div><div class="card"> <a href="/posts/%EC%8A%A4%ED%94%84%EB%A7%81%EC%9D%B8%EC%95%A1%EC%85%98_1%EC%9E%A5_2_%EC%9B%B9%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98_%EA%B0%9C%EB%B0%9C/"><div class="card-body"> <em class="timeago small" date="2021-12-10 00:00:00 +0900" >Dec 10, 2021</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>스프링 인 액션 - 1. 스프링 기초 - 2. 웹 애플리케이션 개발하기</h3><div class="text-muted small"><p> 스프링으로 정보 보여주기 : 작성할 애플리케이션의 도메인을 이해하고, 애플리케이션의 관심사를 Domain으로 나눠 구분한다. Lombok 라이브러리 사용 스프링 라이브러리는 아니지만 Java + Spring에서 유용하게 쓰인다. getter, setter 등 boilerplate를 줄여주고, 다양한 형태의 생성자, 로깅, 빌더를 지원...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Redis_cluster_%ED%95%B4%EC%8B%9C%ED%83%9C%EA%B7%B8/" class="btn btn-outline-primary" prompt="Older"><p>Redis cluster 해시태그</p></a> <a href="/posts/Ktlint_%EB%8F%84%EC%9E%85%ED%95%98%EA%B8%B0/" class="btn btn-outline-primary" prompt="Newer"><p>Ktlint 도입하기</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/hungryjayy">Joowon Son</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/develop/">develop</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/js/">js</a> <a class="post-tag" href="/tags/network/">network</a> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/spring-boot/">spring boot</a> <a class="post-tag" href="/tags/%EB%A6%AC%EB%88%85%EC%8A%A4/">리눅스</a> <a class="post-tag" href="/tags/node-js/">node.js</a> <a class="post-tag" href="/tags/spring/">spring</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-62BFFHGZ29"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-62BFFHGZ29'); }); </script>
