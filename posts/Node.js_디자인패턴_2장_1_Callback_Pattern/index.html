<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Node.js 디자인 패턴 2장 - 1. Callback Pattern(콜백 패턴)" /><meta name="author" content="hungryjayy" /><meta property="og:locale" content="en" /><meta name="description" content="A minimal, portfolio, sidebar, bootstrap Jekyll theme with responsive web design and focuses on text presentation." /><meta property="og:description" content="A minimal, portfolio, sidebar, bootstrap Jekyll theme with responsive web design and focuses on text presentation." /><link rel="canonical" href="https://hungryjayy.github.io/posts/Node.js_%EB%94%94%EC%9E%90%EC%9D%B8%ED%8C%A8%ED%84%B4_2%EC%9E%A5_1_Callback_Pattern/" /><meta property="og:url" content="https://hungryjayy.github.io/posts/Node.js_%EB%94%94%EC%9E%90%EC%9D%B8%ED%8C%A8%ED%84%B4_2%EC%9E%A5_1_Callback_Pattern/" /><meta property="og:site_name" content="hungryjayy" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-09-16T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Node.js 디자인 패턴 2장 - 1. Callback Pattern(콜백 패턴)" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"hungryjayy"},"dateModified":"2021-09-16T00:00:00+09:00","datePublished":"2021-09-16T00:00:00+09:00","description":"A minimal, portfolio, sidebar, bootstrap Jekyll theme with responsive web design and focuses on text presentation.","headline":"Node.js 디자인 패턴 2장 - 1. Callback Pattern(콜백 패턴)","mainEntityOfPage":{"@type":"WebPage","@id":"https://hungryjayy.github.io/posts/Node.js_%EB%94%94%EC%9E%90%EC%9D%B8%ED%8C%A8%ED%84%B4_2%EC%9E%A5_1_Callback_Pattern/"},"url":"https://hungryjayy.github.io/posts/Node.js_%EB%94%94%EC%9E%90%EC%9D%B8%ED%8C%A8%ED%84%B4_2%EC%9E%A5_1_Callback_Pattern/"}</script><title>Node.js 디자인 패턴 2장 - 1. Callback Pattern(콜백 패턴) | hungryjayy</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="hungryjayy"><meta name="application-name" content="hungryjayy"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/Profile/cat.jpeg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">hungryjayy</a></div><div class="site-subtitle font-italic">기억하려고 기록하기</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/hungryjayy" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://instagram.com/" aria-label="instagram" target="_blank" rel="noopener"> <i class="fab fa-instagram"></i> </a> <a href="https://www.linkedin.com/in/joowon-son-557206226/" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['juwon9331','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div style="text-align: center;"> <a href="https://hits.seeyoufarm.com"> <img alt="alt" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fhungryjayy.github.io&count_bg=%23121312&title_bg=%23000000&icon=&icon_color=%23ACACAC&title=hits&edge_flat=false"/> </a></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Node.js 디자인 패턴 2장 - 1. Callback Pattern(콜백 패턴)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Node.js 디자인 패턴 2장 - 1. Callback Pattern(콜백 패턴)</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/hungryjayy">hungryjayy</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" date="2021-09-16 00:00:00 +0900" data-toggle="tooltip" data-placement="bottom" title="Thu, Sep 16, 2021, 12:00 AM +0900" >Sep 16, 2021</em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="777 words"> <em>4 min</em> read</span></div></div></div><div class="post-content"><p><br /></p><h2 id="연속-전달방식">연속 전달방식 <a href="#연속-전달방식" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>: 연산의 결과를 콜백으로 전달하는 방식</p><h3 id="동기식-연속-전달-방식continuation-passing-style">동기식 연속 전달 방식(Continuation-Passing Style) <a href="#동기식-연속-전달-방식continuation-passing-style" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>: 일반적으로 아는 전달방식. <strong>직접 스타일</strong></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kd">function</span> <span class="nx">add</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><p><br /></p><h3 id="비동기--연속-전달-방식">비동기 연속 전달 방식 <a href="#비동기--연속-전달-방식" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kd">function</span> <span class="nx">add</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">callback</span><span class="p">(</span><span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">),</span> <span class="mi">100</span><span class="p">);</span>
<span class="p">}</span>
</pre></table></code></div></div><ul><li>setTimeout은 <code class="language-plaintext highlighter-rouge">addAsync</code>로 제어를 돌려주어 제어가 호출자에게 반환된다.</ul><p><img data-src="https://hungryjayy.github.io/assets/img/Node.js/async_cps.png" alt="async_cps" data-proofer-ignore></p><ul><li>호출 시점의 컨텍스트를 유지하는 것은 <strong>Closure의 특성</strong> 덕분</ul><p><br /></p><h3 id="비-연속-전달-방식의-콜백연속-전달-방식이-아닌-콜백">비 연속 전달 방식의 콜백(연속 전달 방식이 아닌 콜백) <a href="#비-연속-전달-방식의-콜백연속-전달-방식이-아닌-콜백" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nx">array1</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">element</span> <span class="o">=&gt;</span> <span class="nx">element</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>

<span class="c1">// 따로 연산을 통해 callback으로 전달하는 것이 아니라, 그냥 배열의 인자를 전달</span>
</pre></table></code></div></div><ul><li>콜백이라고 항상 <strong>CPS</strong>나 <strong>비동기식</strong>이 아니다.</ul><p><br /></p><h2 id="nodejs-콜백-규칙">Node.js 콜백 규칙 <a href="#nodejs-콜백-규칙" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><ol><li><p>콜백은 맨 마지막에, 오류는 맨 앞에</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">(</span><span class="dl">'</span><span class="s1">foo.txt</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">handleError</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="k">else</span> <span class="p">{</span>
        <span class="nx">callback</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">})</span>
</pre></table></code></div></div><ul><li>가독성 측면에서 좋음. err가 있으면 첫번째 인자가 Error라고 판단</ul><li><p>오류 전파</p><ul><li>일반적으로 비동기식 CPS에서 오류를 callback으로 전달하여 수행<li>오류를 전달할 때는 <code class="language-plaintext highlighter-rouge">return callback(err)</code> 처럼 사용해 early return</ul><li><p><strong>캐치되지 않는 예외</strong></p><ul><li><p><code class="language-plaintext highlighter-rouge">uncaughtException</code>은 어플리케이션의 <strong>일관성을 보장할 수 없게 만든다</strong>. <strong>비동기 콜백 내부</strong>에서 예외를 발생시키면, 그 예외는 <strong>이벤트 루프로 이동</strong>한다.</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="p">...</span>
     
<span class="k">try</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">parsed</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">((</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="p">...</span>
    <span class="p">});</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">{</span> <span class="c1">// Error catch</span>
    <span class="k">return</span> <span class="nx">callback</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="p">}</span>
     
<span class="p">...</span>
</pre></table></code></div></div><ul><li>위의 예에서 만약 <code class="language-plaintext highlighter-rouge">try... catch</code> 구문이 없고 <code class="language-plaintext highlighter-rouge">JSON.parse</code> 에서 에러가 발생한다면, 예외가 그대로 <strong>이벤트 루프</strong>로 이동하고 다음 콜백으로 전파되지 않는다.(위의 그림 참고)<li>제대로 된 예외를 받고자 한다면, <strong>예외가 발생한 스택</strong>과 <strong>실행 스택</strong>이 같아야한다. 즉, 위와같이 에러가 발생할만한 비동기 코드 내부에서 <code class="language-plaintext highlighter-rouge">try catch</code> 로 감싸야 한다.<ul><li>위의 예시를 기준으로, <strong><code class="language-plaintext highlighter-rouge">try ... catch </code> 스택과 <code class="language-plaintext highlighter-rouge">parse((err, data) =&gt; { })</code>의 스택은 별개의 스택</strong></ul></ul><li><p>그런데, <code class="language-plaintext highlighter-rouge">uncaughtException</code>이 만약 발생한다면, 어쨌든 어플리케이션을 종료하도록 처리하는 것이 좋다.</p></ul></ol><h3 id="async-await와-관련된-처리되지-않는-에러">Async Await와 관련된 처리되지 않는 에러 <a href="#async-await와-관련된-처리되지-않는-에러" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>테스트 코드 작성 중 아래와 같은 테스트가 실패한 이유?</ul><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="nx">expect</span><span class="p">(</span><span class="k">await</span> <span class="nx">funcThrowException</span><span class="p">()).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">rejectedWith</span><span class="p">(..);</span>

<span class="c1">// 이렇게 보면 편하다.</span>
<span class="nx">expect</span><span class="p">(</span>
    <span class="c1">// ..</span>
    <span class="k">await</span> <span class="nx">funcThrowException</span>
    <span class="c1">// .. </span>
<span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">rejectedWith</span><span class="p">(..);</span>
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">await</code> 키워드를 만나는 시점에 백그라운드로, 이후에 queue로 들어가지만 다시 call stack에 들어간 시점에 <code class="language-plaintext highlighter-rouge">funcThrowExecption</code>에서 던진 에러를 어디에서도 받지 못한다.<li>바깥의 블락(<code class="language-plaintext highlighter-rouge">expect ... to.be.rejectedWith</code>)에서 <code class="language-plaintext highlighter-rouge">try ... catch</code>로 감싸주면 에러를 잡을 수 있게 된다.</ul><p><br /><br /></p><h4 id="reference">Reference) <a href="#reference" class="anchor"><i class="fas fa-hashtag"></i></a></h4></h4><p>Node.js 디자인패턴</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/framework/'>Framework</a>, <a href='/categories/node-js/'>Node.js</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/node-js/" class="post-tag no-text-decoration" >node.js</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Node.js 디자인 패턴 2장 - 1. Callback Pattern(콜백 패턴) - hungryjayy&url=https://hungryjayy.github.io/posts/Node.js_%EB%94%94%EC%9E%90%EC%9D%B8%ED%8C%A8%ED%84%B4_2%EC%9E%A5_1_Callback_Pattern/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Node.js 디자인 패턴 2장 - 1. Callback Pattern(콜백 패턴) - hungryjayy&u=https://hungryjayy.github.io/posts/Node.js_%EB%94%94%EC%9E%90%EC%9D%B8%ED%8C%A8%ED%84%B4_2%EC%9E%A5_1_Callback_Pattern/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Node.js 디자인 패턴 2장 - 1. Callback Pattern(콜백 패턴) - hungryjayy&url=https://hungryjayy.github.io/posts/Node.js_%EB%94%94%EC%9E%90%EC%9D%B8%ED%8C%A8%ED%84%B4_2%EC%9E%A5_1_Callback_Pattern/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div><script src="https://utteranc.es/client.js" repo="hungryjayy/hungryjayy.github.io" issue-term="pathname" theme="icy-dark" crossorigin="anonymous" async> </script></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/SQL_injection%EA%B3%BC_prepared_statement/">SQL Injection</a><li><a href="/posts/%ED%8C%8C%EB%9D%BC%EB%AF%B8%ED%84%B0%EC%9D%98_%EC%97%AD%ED%95%A0/">파라미터의 역할</a><li><a href="/posts/%EC%BD%94%EB%93%9C_%EB%A6%AC%EB%B7%B0%ED%95%98%EA%B8%B0/">코드 리뷰하기</a><li><a href="/posts/%EC%8A%A4%ED%82%A4%EB%A7%88/">Database 스키마</a><li><a href="/posts/%EC%A0%95%EA%B7%9C%ED%99%94%EA%B0%80_%ED%95%84%EC%9A%94%ED%95%9C%EC%9D%B4%EC%9C%A0/">DB 정규화가 필요한 이유와 함수적 종속</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/network/">network</a> <a class="post-tag" href="/tags/develop/">develop</a> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/js/">js</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/spring-boot/">spring boot</a> <a class="post-tag" href="/tags/%EB%A6%AC%EB%88%85%EC%8A%A4/">리눅스</a> <a class="post-tag" href="/tags/spring/">spring</a> <a class="post-tag" href="/tags/%EC%8A%A4%ED%94%84%EB%A7%81/">스프링</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Node.js_%EB%94%94%EC%9E%90%EC%9D%B8%ED%8C%A8%ED%84%B4_1%EC%9E%A5_1_Node.js_%EB%9E%80/"><div class="card-body"> <em class="timeago small" date="2021-09-02 00:00:00 +0900" >Sep 2, 2021</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Node.js 디자인 패턴 1장 - 1. Node.js란?</h3><div class="text-muted small"><p> Javascript가 서버에서 동작될 수 있도록 하는 그러한 환경(플랫폼) 구글이 크롬 브라우저 용으로 개발한 V8 JavaScript 엔진으로 빌드된 JS 런타임기 특징 Nods.js 라이브러리 내의 api는 모두 비동기 단일 스레드. 이벤트 메커니즘을 통해 서버가 멈추지 않으며 실시간 데이터 애플리케이션, SPA,...</p></div></div></a></div><div class="card"> <a href="/posts/Node.js_%EB%94%94%EC%9E%90%EC%9D%B8%ED%8C%A8%ED%84%B4_1%EC%9E%A5_2_ES2015_JS/"><div class="card-body"> <em class="timeago small" date="2021-09-03 00:00:00 +0900" >Sep 3, 2021</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Node.js 디자인 패턴 1장 - 2. ES2015(ES6 이후)에서 달라진 점</h3><div class="text-muted small"><p> var, let, const var 변수 재선언, 재할당 가능 Function scope if문에서 선언하면 block이기 때문에 전역변수 함수 내부라면 블록 밖이라도 참조 가능 함수 내부에서 var로 선언한 것은 함수 내부까지만 hoisting ...</p></div></div></a></div><div class="card"> <a href="/posts/Node.js_%EB%94%94%EC%9E%90%EC%9D%B8%ED%8C%A8%ED%84%B4_1%EC%9E%A5_3_Reactor_Pattern/"><div class="card-body"> <em class="timeago small" date="2021-09-05 00:00:00 +0900" >Sep 5, 2021</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Node.js 디자인 패턴 1장 - 3. Reactor 패턴을 통한 Non-blocking 처리</h3><div class="text-muted small"><p> : 리소스(기다리고 있던 DB의 목적 리소스)에서 새 이벤트를 사용할 수 있을때까지 디멀티플렉서가 차단되다가, 처리된 다음 이벤트 큐로 전해지고, 이벤트 루프에 의해 핸들러가 호출되어 반응하는 것 이벤트 디멀티플렉싱 : Non-blocking 리소스를 처리하기 위한 기본적인 메커니즘 Disk I/O작업은 기본적으로 블로킹 I/O인데, 이...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Sequelize_DB_Migration/" class="btn btn-outline-primary" prompt="Older"><p>Sequelize에서 DB Migration하기</p></a> <a href="/posts/B-Tree/" class="btn btn-outline-primary" prompt="Newer"><p>B-Tree</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/hungryjayy">Joowon Son</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/network/">network</a> <a class="post-tag" href="/tags/develop/">develop</a> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/js/">js</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/spring-boot/">spring boot</a> <a class="post-tag" href="/tags/%EB%A6%AC%EB%88%85%EC%8A%A4/">리눅스</a> <a class="post-tag" href="/tags/spring/">spring</a> <a class="post-tag" href="/tags/%EC%8A%A4%ED%94%84%EB%A7%81/">스프링</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-62BFFHGZ29"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-62BFFHGZ29'); }); </script>
